name = "highpoint-housekeep"
compatibility_date = "2026-01-19"

# Production deployment configuration
pages_build_output_dir = "dist"

[build]
command = "npm run build:web"
cwd = ""

[build.environment]
NODE_VERSION = "20"

# Custom domain configuration for highpoints.work
[[custom_domains]]
domain = "highpoints.work"

[[custom_domains]]
domain = "www.highpoints.work"

# Route configuration
[[routes]]
pattern = "/*"
custom_route = true

# Headers for security and caching
[[headers]]
name = "Cache-Control"
value = "public, max-age=31536000, immutable"
paths = ["/_expo/*", "/static/*", "/assets/*"]

[[headers]]
name = "X-Content-Type-Options"
value = "nosniff"
paths = ["/*"]

[[headers]]
name = "X-Frame-Options"
value = "DENY"
paths = ["/*"]

[[headers]]
name = "X-XSS-Protection"
value = "1; mode=block"
paths = ["/*"]

# SPA routing - redirect all routes to index.html
[[redirects]]
from = "/*"
to = "/index.html"
status = 200
